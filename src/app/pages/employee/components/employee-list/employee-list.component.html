<div class="container-fluid employee-table" *ngIf="isAccess">
  <div class="row">
    <div class="employee-table col">
      <div class="employee-header">
        <div class="employeeList">
          <span>Danh sách nhân sự</span>
          <select class="form-control position-select" (change)="filterByPosition($event.target.value)"
            [(ngModel)]="positionId">
            <option value="0">Tất cả</option>
            <option *ngFor="let pos of positions" [value]="pos.PositionId">
              {{pos.Name}}
            </option>
          </select>
        </div>
      </div>
      <div class="search-box">
        <input class="searchInput" matInput [(ngModel)]="searchString" placeholder="Tìm kiếm"
          (keyup.enter)="searchEmployee()">
        <button class="clearStr" mat-button *ngIf="searchString" matTooltip="Hủy tìm kiếm" matSuffix mat-icon-button
          (click)="getEmployeeList(1);searchString = ''">
          <mat-icon>close</mat-icon>
        </button>
        <i class="material-icons searchBtn" matTooltip="Tìm kiếm" style="cursor: pointer;"
          (click)="searchEmployee()">search</i>
      </div>
      <!-- <app-shared-table [displayedColumns]="displayedColumns" [backendDisplayColumns]="backendDisplayColumns"
        [displayedData]="displayedData" [route]='route' [tab]="tab" [routeIndex]="routeIndex">
      </app-shared-table> -->
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button class="add-button" matTooltip="Thêm nhân viên mới" routerLink="/pages/employee/create">
        <i class="material-icons">
          add_circle_outline
        </i>
      </button>
      <div style="max-height: 60vh; overflow: hidden auto;">
        <table mat-table [dataSource]="dataSource" class=" table-hover table-striped text-center customTableStyle">
          <ng-container matColumnDef="Mã NV">
            <th mat-header-cell *matHeaderCellDef> Mã NV </th>
            <td mat-cell *matCellDef="let employee">{{employee.EmployeeId}}</td>
          </ng-container>
          <ng-container matColumnDef="Họ tên">
            <th mat-header-cell *matHeaderCellDef> Họ tên </th>
            <td mat-cell *matCellDef="let employee" style="text-align: left; padding-left: 10px;">{{employee.FullName}}
            </td>
          </ng-container>
          <ng-container matColumnDef="Điện thoại">
            <th mat-header-cell *matHeaderCellDef>Điện thoại</th>
            <td mat-cell *matCellDef="let employee">{{employee.Phone}}</td>
          </ng-container>
          <ng-container matColumnDef="Email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let employee">{{employee.UserEmail}}</td>
          </ng-container>
          <ng-container matColumnDef="Chức vụ">
            <th mat-header-cell *matHeaderCellDef>Chức vụ</th>
            <td mat-cell *matCellDef="let employee">{{employee.ListPosition}}</td>
          </ng-container>
          <ng-container matColumnDef="Phòng ban">
            <th mat-header-cell *matHeaderCellDef>Phòng ban</th>
            <td mat-cell *matCellDef="let employee" style="text-align: left; padding-left: 10px;">
              {{employee.DepartmentName}}</td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true "></tr>
          <tr mat-row *matRowDef="let employee; columns: displayedColumns;"
            [routerLink]="['/pages/employee/', employee.EmployeeId]"></tr>
        </table>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-1 pr-0">
      <mat-form-field style="width: 100%; background: #fff;padding-left: 15px;">
        <mat-select (selectionChange)="getEmployeeList($event.value)" [(value)]="selected">
          <mat-option *ngFor="let page of pageArray" [value]="page">
            <div *ngIf="page === pageArray.length">
              {{lastVar}} - {{count}}
            </div>
            <div *ngIf="page !== pageArray.length">
              {{((page-1) * recordRespond)+1}} - {{(page*recordRespond)}}
            </div>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-11 pl-0 employeePaginator">
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10" showFirstLastButtons="false"></mat-paginator>
    </div>
  </div>
</div>
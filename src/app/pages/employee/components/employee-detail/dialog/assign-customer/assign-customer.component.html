<div class="container assignCustomer">
  <div class="row">
    <div class="col">
      <h1 style="text-align: center;">Danh sách khách hàng</h1>
      <div class="search-box">
        <input class="searchInput" matInput (keyup)="applyFilter($event.target.value)" placeholder="Tìm kiếm">
        <i class="material-icons">
          search
        </i>
      </div>
      <table mat-table [dataSource]="dataSource" matSort
        class="table-striped  table-hover text-center customTableStyle">
        <ng-container matColumnDef="choose">
          <th mat-header-cell *matHeaderCellDef>
            <input type="checkbox" id="checkbox" (change)="selectAll();" hidden />
            <label for="checkbox"></label>
          </th>
          <td mat-cell *matCellDef="let customer">
            <input type="checkbox" id="{{customer.CustomerID}}" [checked]="isSelectAll"
              (change)="chooseCustomer(customer.CustomerID);" hidden />
            <label for="{{customer.CustomerID}}"></label>
          </td>
        </ng-container>
        <ng-container matColumnDef="Mã KH">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Mã KH </th>
          <td mat-cell *matCellDef="let customer"> {{customer.CustomerID}} </td>
        </ng-container>
        <ng-container matColumnDef="Họ tên">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Họ tên </th>
          <td mat-cell *matCellDef="let customer">
            {{customer.LastName}} {{customer.FirstName}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Điện thoại">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Điện thoại </th>
          <td mat-cell *matCellDef="let customer">
            {{customer.Phone}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Nguồn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nguồn </th>
          <td mat-cell *matCellDef="let customer">
            {{customer.TypeDescription}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Level">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Level </th>
          <td mat-cell *matCellDef="let customer">
            {{customer.PotentialLevelName}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Sale phụ trách">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Sale phụ trách </th>
          <td mat-cell *matCellDef="let customer">
            {{customer.EmployeeFullName}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Dịch vụ">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Dịch vụ </th>
          <td mat-cell *matCellDef="let customer">{{customer.CompletedSurgeryServices}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Hợp đồng">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Hợp đồng </th>
          <td mat-cell *matCellDef="let customer">{{customer.TotalContractAmount}}
          </td>
        </ng-container>
        <ng-container matColumnDef="Ghi chú">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Ghi chú </th>
          <td mat-cell *matCellDef="let customer">{{customer.NoteContent}}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let customer; columns: displayedColumns"
          [style.background]="assignedCustomerIdList.includes(customer.CustomerID) ? '#D0DBEE':''"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10" showFirstLastButtons="true">
      </mat-paginator>
    </div>
  </div>
  <div class="row">
    <div class="col text-center">
      <button class="btn customBtn" (click)="assignCustomer()">
        Giao KH
      </button>
    </div>
  </div><br>
</div>